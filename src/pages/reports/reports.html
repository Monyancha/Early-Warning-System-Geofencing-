<!--
  Generated template for the ReportsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	<ion-navbar color="danger">
		<ion-title>Reports</ion-title>
	</ion-navbar>
	<ion-toolbar no-border-top color="danger">
		<ion-searchbar showCancelButton color="danger" (ionInput)="filterReports($event)" placeholder="Filter Reports"></ion-searchbar>
	</ion-toolbar>
</ion-header>
<ion-content padding class="card-background-page">
	<ion-card *ngFor="let report of reports">
		<ion-item>
			<ion-avatar item-start>
				<img src="{{ report.fldpicture }}"/>
			</ion-avatar>
			<h2><b>{{ report.fldtitle }}</b></h2>
			<p>{{ report.fldtype }}</p>
		</ion-item>
		<img src="{{ report.fldpicture }}"/>
		<ion-card-content><p>{{ report.flddescription }}</p></ion-card-content>
		<ion-item>
			<button *ngIf="report.fldstatus==='Pending'" color="secondary" (click)="approve(report.fldreport_id)" block ion-button round outline>
				<ion-icon name="checkmark" item-start>Approve</ion-icon>
			</button>
			<!--button color="primary" (click)="edit(report)" block ion-button round outline>
				<ion-icon name="create" item-start>Edit</ion-icon>
			</button>
			<button color="danger" (click)="delete(report.fldreport_id)" block ion-button round outline>
				<ion-icon name="close" item-start>Remove</ion-icon>
			</button-->
			<button *ngIf="report.fldstatus==='Active'" color="secondary" (click)="viewContributions(report.fldreport_id)" block ion-button round outline>
				<ion-icon name="card" item-start>View Contributions</ion-icon>
			</button>
		</ion-item>
		<ion-row>
			<ion-col>
				<button ion-button icon-start outline small block (click)="edit(report)" >
					<ion-icon name="create"></ion-icon>
					<div>Edit</div>
				</button>
			</ion-col>
			<ion-col>
				<button color="danger" ion-button icon-start outline block small (click)="delete(report.fldreport_id)">
					<ion-icon name="trash"></ion-icon>
					<div>Delete</div>
				</button>
			</ion-col>
		</ion-row>
	</ion-card>
	<ion-fab bottom right *ngIf="global.accessLevel=='ADMINISTRATORR'">
		<button ion-fab (click)="add()"><ion-icon name="add"></ion-icon></button>
	</ion-fab>
</ion-content>
